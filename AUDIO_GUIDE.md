# 🎵 萌爪集星音效系统指南

## 🎮 音效功能说明

游戏现在包含完整的音效系统，为您提供沉浸式的游戏体验！

### 🔊 音效列表

1. **星星收集音效** (`star_collect.wav`)
   - 当玩家收集普通星星时播放
   - 上升音调，给人愉悦的收集感

2. **特殊星星音效** (`special_star.wav`)
   - 当玩家收集特殊星星时播放
   - 和弦音效，更加华丽

3. **游戏结束音效** (`game_over.wav`)
   - 当游戏结束时播放
   - 下降音调，表示游戏结束

4. **背景音乐** (`background.wav`)
   - 游戏开始时自动播放
   - 8秒循环的简单旋律
   - 音量较小，不会干扰游戏

## 🛠️ 技术实现

### 音频节点结构
```
Main
├── AudioPlayers (Node)
│   ├── StarCollectSound (AudioStreamPlayer)
│   ├── SpecialStarSound (AudioStreamPlayer)
│   ├── GameOverSound (AudioStreamPlayer)
│   └── BackgroundMusic (AudioStreamPlayer)
```

### 音效触发时机

1. **星星收集音效**
   - 触发位置：`Main.gd` 的 `_on_star_collected()` 函数
   - 触发条件：玩家接触到星星时

2. **特殊星星音效**
   - 触发位置：`Main.gd` 的 `_on_star_collected()` 函数
   - 触发条件：收集到50分的特殊星星时

3. **游戏结束音效**
   - 触发位置：`Main.gd` 的 `end_game()` 函数
   - 触发条件：生命值归零时

4. **背景音乐**
   - 自动播放：游戏开始时自动播放
   - 循环播放：音乐会自动循环

## 🔧 音效调试

### 如果听不到音效，请检查：

1. **系统音量设置**
   - 确保系统音量不是静音
   - 检查Godot编辑器的音量设置

2. **Godot音频设置**
   - 在Godot编辑器中：项目 → 项目设置 → 音频
   - 确保音频驱动正常

3. **音频文件完整性**
   - 运行 `python3 test_audio.py` 检查音频文件
   - 确保所有音频文件都存在且大小正常

4. **节点连接**
   - 在Godot编辑器中检查音频节点是否正确连接
   - 确保音频流已正确分配

### 手动测试音效

在Godot编辑器中：
1. 选择音频节点（如 StarCollectSound）
2. 在检查器面板中点击"播放"按钮
3. 应该能听到对应的音效

## 🎛️ 音效自定义

### 调整音量
在 `scenes/Main.tscn` 中修改音频节点的 `volume_db` 属性：
```
# 背景音乐音量（已设置为 -10.0 分贝，较小声）
volume_db = -10.0

# 音效音量（默认为 0.0 分贝）
volume_db = 0.0
```

### 替换音效文件
1. 将新的音频文件放入对应文件夹
2. 确保文件名相同，或修改场景中的引用
3. 支持的格式：WAV、OGG、MP3

### 添加新音效
1. 在 `AudioPlayers` 节点下添加新的 `AudioStreamPlayer`
2. 设置音频流资源
3. 在脚本中添加对应的播放逻辑

## 🎵 音效生成说明

项目中的音效是通过 `generate_sounds.py` 脚本自动生成的：

- **星星收集音效**：C5到C6的上升音调
- **特殊星星音效**：C大调和弦（C-E-G）
- **游戏结束音效**：C5到C4的下降音调
- **背景音乐**：C大调音阶的简单旋律

如果需要重新生成音效：
```bash
python3 generate_sounds.py
```

## 🔊 音效体验

现在运行游戏，您应该能听到：
- ✅ 游戏开始时的背景音乐
- ✅ 收集普通星星的"叮"声
- ✅ 收集特殊星星的和弦音
- ✅ 游戏结束时的下降音调

享受您的音效增强版"萌爪集星"游戏！🌟
